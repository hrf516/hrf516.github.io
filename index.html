<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retrieval Case Studies</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { background-color: #f8fafc; }
        /* 简单的加载动画防止闪烁 */
        .fade-in { animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* 隐藏滚动条但保留功能 */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- 图标组件定义 (SVG) ---
        const IconBase = ({ size = 24, children, ...props }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width={size} 
                height={size} 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                {...props}
            >
                {children}
            </svg>
        );

        const Search = (props) => <IconBase {...props}><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></IconBase>;
        const CheckCircle = (props) => <IconBase {...props}><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></IconBase>;
        const XCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></IconBase>;
        const Zap = (props) => <IconBase {...props}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></IconBase>;
        const Database = (props) => <IconBase {...props}><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></IconBase>;
        const Layout = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></IconBase>;
        const Cpu = (props) => <IconBase {...props}><rect x="4" y="4" width="16" height="16" rx="2"/><rect x="9" y="9" width="6" height="6"/><path d="M9 1v3"/><path d="M15 1v3"/><path d="M9 20v3"/><path d="M15 20v3"/><path d="M20 9h3"/><path d="M20 14h3"/><path d="M1 9h3"/><path d="M1 14h3"/></IconBase>;
        const ChevronLeft = (props) => <IconBase {...props}><path d="m15 18-6-6 6-6"/></IconBase>;
        const ChevronRight = (props) => <IconBase {...props}><path d="m9 18 6-6-6-6"/></IconBase>;
        const ChevronDown = (props) => <IconBase {...props}><path d="m6 9 6 6 6-6"/></IconBase>;
        const ChevronUp = (props) => <IconBase {...props}><path d="m18 15-6-6-6 6"/></IconBase>;
        const Layers = (props) => <IconBase {...props}><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></IconBase>;
        const Aperture = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="14.31" y1="8" x2="20.05" y2="17.94"/><line x1="9.69" y1="8" x2="21.17" y2="8"/><line x1="7.38" y1="12" x2="13.12" y2="2.06"/><line x1="9.69" y1="16" x2="3.95" y2="6.06"/><line x1="14.31" y1="16" x2="2.83" y2="16"/><line x1="16.62" y1="12" x2="10.88" y2="21.94"/></IconBase>;
        const ArrowDown = (props) => <IconBase {...props}><line x1="12" y1="5" x2="12" y2="19"/><polyline points="19 12 12 19 5 12"/></IconBase>;

        // --- 数据配置 ---
        
        const BASELINE_MODELS = [
          { id: 'omni', name: 'Qwen2.5-Omni-Embed-v0.1', description: '' },
          { id: 'gme', name: 'gme-Qwen2-7b-instruct', description: '' },
          { id: 'bge', name: 'BGE-MLLM-S2', description: '' }
        ];

        const createResult = (id, label, score, isRelevant, imageSrc) => ({
          id, 
          src: imageSrc, 
          score, 
          label,
          isRelevant
        });

        // 包含 Letterboxd, Goodreads, Steam 的完整数据
        const CASES = [
          {
            id: 'Letterboxd',
            domain: "Letterboxd",
            icon: Zap,
            queries: [
              {
                id: 'q1',
                type: "Text-to-Image",
                text: "Truman Burbank is the star of The Truman Show, a 24-hour-a-day reality TV show that broadcasts every aspect of his life without his knowledge. His entire life has been an unending soap opera for consumption by the rest of the world. And everyone he knows, including his wife and his best friend is really an actor, paid to be part of his life.",
                desc: "Movie:The Truman Show",
                queryImage: "", 
                results: {
                  'omni': {
                    baseline: [
                      createResult('cb1', 'Movie:Truman', 0.482, false, './cases/Letterboxd/case1/omni/base/1244446.jpg'),
                      createResult('cb2', 'Movie:Truman', 0.467, false, './cases/Letterboxd/case1/omni/base/1056636.jpg'),
                      createResult('cb3', 'Movie:With Love from Truman', 0.443, false, './cases/Letterboxd/case1/omni/base/1079889.jpg'),
                      createResult('cb4', 'Movie:Aseveljeyden sankarit', 0.426, false, './cases/Letterboxd/case1/omni/base/1751952.jpg'),
                      createResult('cb5', 'Movie:A Film by Tuğra Kaftancıoğlu', 0.421, false, './cases/Letterboxd/case1/omni/base/1164075.jpg')
                    ],
                    ours: [
                      createResult('cbo1', 'Movie:The Truman Show', 0.534, true, './cases/Letterboxd/case1/omni/ft/1000022.jpg'),
                      createResult('cbo2', 'Movie:Simulated Reality', 0.510, false, './cases/Letterboxd/case1/omni/ft/1459464.jpg'),
                      createResult('cbo3', 'Movie:The Simulation Hypothesis', 0.489, false, './cases/Letterboxd/case1/omni/ft/1218815.jpg'),
                      createResult('cbo4', 'Movie:Truman Syndrome', 0.478, false, './cases/Letterboxd/case1/omni/ft/1494655.jpg'),
                      createResult('cbo5', 'Movie:How\'s It Going to End - The Making of \'The Truman Show\'', 0.450, false, './cases/Letterboxd/case1/omni/ft/1156657.jpg')
                    ]
                  },
                  'gme': {
                    baseline: [
                      createResult('cl1', 'Movie:The Truman Show', 0.463, true, './cases/Letterboxd/case1/gme/base/1000022.jpg'),
                      createResult('cl2', 'Movie:How\'s It Going to End - The Making of \'The Truman Show\'', 0.408, false, './cases/Letterboxd/case1/gme/base/1156657.jpg'),
                      createResult('cl3', 'Movie:Reality Show', 0.405, false, './cases/Letterboxd/case1/gme/base/1195436.jpg'),
                      createResult('cl4', 'Movie:Reality Star', 0.395, false, './cases/Letterboxd/case1/gme/base/1632419.jpg'),
                      createResult('cl5', 'Movie:Reality', 0.369, false, './cases/Letterboxd/case1/gme/base/1015771.jpg')
                    ],
                    ours: [
                      createResult('clo1', 'Movie:The Truman Show', 0.553, true, './cases/Letterboxd/case1/gme/ft/1000022.jpg'),
                      createResult('clo2', 'Movie:How\'s It Going to End - The Making of \'The Truman Show\'', 0.496, true, './cases/Letterboxd/case1/gme/ft/1156657.jpg'),
                      createResult('clo3', 'Movie:Truman', 0.363, true, './cases/Letterboxd/case1/gme/ft/1056636.jpg'),
                      createResult('clo4', 'Movie:Truman', 0.359, true, './cases/Letterboxd/case1/gme/ft/1244446.jpg'),
                      createResult('clo5', 'Movie:Truman Syndrome', 0.342, true, './cases/Letterboxd/case1/gme/ft/1494655.jpg')
                    ]
                  },
                  'bge': {
                    baseline: [
                      createResult('bp1', 'Movie:The Truman Show', 0.383, true, './cases/Letterboxd/case1/bge/base/1000022.jpg'),
                      createResult('bp2', 'Movie:Brave New World', 0.336, false, './cases/Letterboxd/case1/bge/base/1044990.jpg'),
                      createResult('bp3', 'Movie:Role of a Lifetime', 0.334, false, './cases/Letterboxd/case1/bge/base/1316279.jpg'),
                      createResult('bp4', 'Movie:What Planet Are You From?', 0.333, false, './cases/Letterboxd/case1/bge/base/1028458.jpg'),
                      createResult('bp5', 'Movie:Chasing Christmas', 0.332, false, './cases/Letterboxd/case1/bge/base/1092406.jpg')
                    ],
                    ours: [
                      createResult('bpo1', 'Movie:The Truman Show', 0.426, true, './cases/Letterboxd/case1/bge/ft/1000022.jpg'),
                      createResult('bpo2', 'Movie:Truman', 0.357, false, './cases/Letterboxd/case1/bge/ft/1244446.jpg'),
                      createResult('bpo3', 'Movie:Trumbo', 0.253, false, './cases/Letterboxd/case1/bge/ft/1036646.jpg'),
                      createResult('bpo4', 'Movie:Trumbo', 0.241, false, './cases/Letterboxd/case1/bge/ft/1004137.jpg'),
                      createResult('bpo5', 'Movie:Truman', 0.241, false, './cases/Letterboxd/case1/bge/ft/1056636.jpg')
                    ]
                  }
                }
              },
              {
                id: 'q2',
                type: "Text-to-Image",
                text: "After the devastating events of Avengers: Infinity War, the universe is in ruins due to the efforts of the Mad Titan, Thanos. With the help of remaining allies, the Avengers must assemble once more in order to undo Thanos' actions and restore order to the universe once and for all, no matter what consequences may be in store.",
                desc: "Movie:Avengers: Endgame",
                results: {
                  'omni': {
                    baseline: [
                      createResult('cb1', 'Movie:Pets', 0.437, false, './cases/Letterboxd/case2/omni/base/1254844.jpg'),
                      createResult('cb2', 'Movie:BET Awards', 0.435, false, './cases/Letterboxd/case2/omni/base/1567340.jpg'),
                      createResult('cb3', 'Movie:Guardians of the Galaxy', 0.427, false, './cases/Letterboxd/case2/omni/base/1000062.jpg'),
                      createResult('cb4', 'Movie:Avengers: Infinity War', 0.421, false, './cases/Letterboxd/case2/omni/base/1000040.jpg'),
                      createResult('cb5', 'Movie:Avengers: Endgame', 0.419, true, './cases/Letterboxd/case2/omni/base/1000043.jpg')
                    ],
                    ours: [
                      createResult('cbo1', 'Movie:Avengers: Infinity War', 0.631, false, './cases/Letterboxd/case2/omni/ft/1000040.jpg'),
                      createResult('cbo2', 'Movie:Avengers: Endgame', 0.606, true, './cases/Letterboxd/case2/omni/ft/1000043.jpg'),
                      createResult('cbo3', 'Movie:Marvel - The Infinity Saga', 0.600, false, './cases/Letterboxd/case2/omni/ft/1777243.jpg'),
                      createResult('cbo4', 'Movie:superichkidsss', 0.561, false, './cases/Letterboxd/case2/omni/ft/1596580.jpg'),
                      createResult('cbo5', 'Movie:Avengers 5', 0.517, false, './cases/Letterboxd/case2/omni/ft/1011117.jpg')
                    ]
                  },
                  'gme': {
                    baseline: [
                      createResult('cl1', 'Movie:Avengers: Infinity War', 0.622, false, './cases/Letterboxd/case2/gme/base/1000040.jpg'),
                      createResult('cl2', 'Movie:Avengers: Endgame', 0.595, true, './cases/Letterboxd/case2/gme/base/1000043.jpg'),
                      createResult('cl3', 'Movie:superichkidsss', 0.591, false, './cases/Letterboxd/case2/gme/base/1596580.jpg'),
                      createResult('cl4', 'Movie:Marvel Studios: Assembling a Universe', 0.576, false, './cases/Letterboxd/case2/gme/base/1020558.jpg'),
                      createResult('cl5', 'Movie:Marvel - The Infinity Saga', 0.569, false, './cases/Letterboxd/case2/gme/base/1777243.jpg')
                    ],
                    ours: [
                      createResult('clo1', 'Movie:Infinity War', 0.682, false, './cases/Letterboxd/case2/gme/ft/1000040.jpg'),
                      createResult('clo2', 'Movie:Avengers: Endgame', 0.643, true, './cases/Letterboxd/case2/gme/ft/1000043.jpg'),
                      createResult('clo3', 'Movie:superichkidsss', 0.622, false, './cases/Letterboxd/case2/gme/ft/1596580.jpg'),
                      createResult('clo4', 'Movie:Marvel - The Infinity Saga', 0.576, false, './cases/Letterboxd/case2/gme/ft/1777243.jpg'),
                      createResult('clo5', 'Movie:Marvel Studios: Assembling a Universe', 0.538, false, './cases/Letterboxd/case2/gme/omni/ft/1020558.jpg')
                    ]
                  },
                  'bge': {
                    baseline: [
                      createResult('bp1', 'Movie:Infinity War', 0.450, false, './cases/Letterboxd/case2/bge/base/1000040.jpg'),
                      createResult('bp2', 'Movie:Marvel - The Infinity Saga', 0.423, false, './cases/Letterboxd/case2/bge/base/1777243.jpg'),
                      createResult('bp3', 'Movie:Avengers: Endgame', 0.414, true, './cases/Letterboxd/case2/bge/base/1000043.jpg'),
                      createResult('bp4', 'Movie:superichkidsss', 0.409, false, './cases/Letterboxd/case2/bge/base/1596580.jpg'),
                      createResult('bp5', 'Movie:The Avengers', 0.407, false, './cases/Letterboxd/case2/bge/base/1000115.jpg')
                    ],
                    ours: [
                      createResult('bpo1', 'Movie:Infinity War', 0.96, true, './cases/Letterboxd/case2/bge/ft/1000040.jpg'),
                      createResult('bpo2', 'Movie:Marvel - The Infinity Saga', 0.94, true, './cases/Letterboxd/case2/bge/ft/1777243.jpg'),
                      createResult('bpo3', 'Movie:Avengers: Endgame', 0.91, true, './cases/Letterboxd/case2/bge/ft/1000043.jpg'),
                      createResult('bpo4', 'Movie:superichkidsss', 0.89, true, './cases/Letterboxd/case2/bge/ft/1439211.jpg'),
                      createResult('bpo5', 'Movie:The Avengers', 0.88, true, './cases/Letterboxd/case2/bge/ft/1000115.jpg')
                    ]
                  }
                }
              },
              {
                id: 'q3',
                type: "Text-to-Image",
                text: "When the Valley of Peace is threatened, lazy Po the panda discovers his destiny as the \"\"chosen one\"\" and trains to become a kung fu hero, but transforming the unsleek slacker into a brave warrior won't be easy. It's up to Master Shifu and the Furious Five -- Tigress, Crane, Mantis, Viper and Monkey -- to give it a try.",
                desc: "Movie:Kung Fu Panda",
                results: {
                  'omni': {
                    baseline: [
                      createResult('cb1', 'Movie:Kung Fu Panda: Secrets of the Furious Five', 0.423, false, './cases/Letterboxd/case3/omni/base/1017964.jpg'),
                      createResult('cb2', 'Movie:Kung Fu Masters 3', 0.420, false, './cases/Letterboxd/case3/omni/base/1214452.jpg'),
                      createResult('cb3', 'Movie:Kung Fu Panda 4', 0.419, false, './cases/Letterboxd/case3/omni/base/1001097.jpg'),
                      createResult('cb4', 'Movie:Avengers: The Adventures of Panda Warrior', 0.412, false, './cases/Letterboxd/case3/omni/base/1054372.jpg'),
                      createResult('cb5', 'Movie:Avengers: Kung Fu Masters 2', 0.410, false, './cases/Letterboxd/case3/omni/base/1280942.jpg')
                    ],
                    ours: [
                      createResult('cbo1', 'Movie:Kung Fu Panda', 0.536, true, './cases/Letterboxd/case3/omni/ft/1000341.jpg'),
                      createResult('cbo2', 'Movie:Kung Fu Panda 4', 0.519, false, './cases/Letterboxd/case3/omni/ft/1001097.jpg'),
                      createResult('cbo3', 'Movie:Kung Fu Panda 3', 0.493, false, './cases/Letterboxd/case3/omni/ft/1001074.jpg'),
                      createResult('cbo4', 'Movie:Kung Fu Panda: The Emperor\'s Quest', 0.47, false, './cases/Letterboxd/case3/omni/ft/1074828.jpg'),
                      createResult('cbo5', 'Movie:Kung Fu Panda Holiday', 0.465, false, './cases/Letterboxd/case3/omni/ft/1018982.jpg')
                    ]
                  },
                  'gme': {
                    baseline: [
                      createResult('cl1', 'Movie:Kung Fu Panda 4', 0.583, false, './cases/Letterboxd/case3/gme/base/1001097.jpg'),
                      createResult('cl2', 'Movie:Kung Fu Panda: Secrets of the Masters', 0.565, false, './cases/Letterboxd/case3/gme/base/1026101.jpg'),
                      createResult('cl3', 'Movie:Kung Fu Panda: Secrets of the Furious Five', 0.557, false, './cases/Letterboxd/case3/gme/base/1017964.jpg'),
                      createResult('cl4', 'Movie:Kung Fu Panda: The Emperor\'s Quest', 0.554, false, './cases/Letterboxd/case3/gme/base/1074828.jpg'),
                      createResult('cl5', 'Movie:Kungfu Master', 0.550, false, './cases/Letterboxd/case3/gme/base/1252456.jpg')
                    ],
                    ours: [
                      createResult('clo1', 'Movie:Kung Fu Panda 4', 0.637, false, './cases/Letterboxd/case3/gme/ft/1001097.jpg'),
                      createResult('clo2', 'Movie:Kung Fu Panda: The Emperor\'s Quest', 0.692, false, './cases/Letterboxd/case3/gme/ft/1074828.jpg'),
                      createResult('clo3', 'Movie:Kungfu Master', 0.534, false, './cases/Letterboxd/case3/gme/ft/1252456.jpg'),
                      createResult('clo4', 'Movie:Kung Fu Panda', 0.505, true, './cases/Letterboxd/case3/gme/ft/1000341.jpg'),
                      createResult('clo5', 'Movie:Kung Fu Panda: Secrets of the Masters', 0.480, false, './cases/Letterboxd/case3/gme/ft/1026101.jpg')
                    ]
                  },
                  'bge': {
                    baseline: [
                      createResult('bp1', 'Movie:Kung Fu Panda: Secrets of the Masters', 0.486, false, './cases/Letterboxd/case3/bge/base/1026101.jpg'),
                      createResult('bp2', 'Movie:Kung Fu Panda 4', 0.471, false, './cases/Letterboxd/case3/bge/base/1001097.jpg'),
                      createResult('bp3', 'Movie:Kung Fu Masters 3', 0.462, false, './cases/Letterboxd/case3/bge/base/1214452.jpg'),
                      createResult('bp4', 'Movie:Kung Fu Panda: The Emperor\'s Quest', 0.461, false, './cases/Letterboxd/case3/bge/base/1074828.jpg'),
                      createResult('bp5', 'Movie:Kung Fu Panda 3', 0.453, false, './cases/Letterboxd/case3/bge/base/1001074.jpg')
                    ],
                    ours: [
                      createResult('bpo1', 'Movie:Kung Fu Panda', 0.535, true, './cases/Letterboxd/case3/bge/ft/1000341.jpg'),
                      createResult('bpo2', 'Movie:Kung Fu Panda 4', 0.521, false, './cases/Letterboxd/case3/bge/ft/1001097.jpg'),
                      createResult('bpo3', 'Movie:Kung Fu Panda: The Emperor\'s Quest', 0.91, false, './cases/Letterboxd/case3/bge/ft/1074828.jpg'),
                      createResult('bpo4', 'Movie:Kung Fu Masters 7: Kung Fu Monkey', 0.89, false, './cases/Letterboxd/case3/bge/ft/1400131.jpg'),
                      createResult('bpo5', 'Movie:Kung Fu Panda 3', 0.88, false, './cases/Letterboxd/case3/bge/ft/1001074.jpg')
                    ]
                  }
                }
              }
            ]
          },
          {
            id: 'Goodreads',
            domain: "Goodreads",
            icon: Layout,
            queries: [
              {
                id: 'q1',
                type: "",
                queryImage: "",
                text: "",
                desc: "",
                results: {
                  'omni': {
                    baseline: [
                      createResult('cb1', '', 0.65, false, ''),
                      createResult('cb2', '', 0.61, false, ''),
                      createResult('cb3', '', 0.59, false, ''),
                      createResult('cb4', '', 0.55, false, ''),
                      createResult('cb5', '', 0.52, false, '')
                    ],
                    ours: [
                      createResult('cbo1', '', 0.88, true, ''),
                      createResult('cbo2', '', 0.85, true, ''),
                      createResult('cbo3', '', 0.82, true, ''),
                      createResult('cbo4', '', 0.80, true, ''),
                      createResult('cbo5', '', 0.78, true, '')
                    ]
                  },
                  'gme': {
                    baseline: [
                      createResult('cl1', '', 0.78, true, ''),
                      createResult('cl2', '', 0.68, false, ''),
                      createResult('cl3', '', 0.65, false, ''),
                      createResult('cl4', '', 0.60, false, ''),
                      createResult('cl5', '', 0.58, false, '')
                    ],
                    ours: [
                      createResult('clo1', '', 0.92, true, ''),
                      createResult('clo2', '', 0.88, true, ''),
                      createResult('clo3', '', 0.85, true, ''),
                      createResult('clo4', '', 0.84, true, ''),
                      createResult('clo5', '', 0.81, true, '')
                    ]
                  },
                  'bge': {
                    baseline: [
                      createResult('bp1', '', 0.80, true, ''),
                      createResult('bp2', '', 0.72, true, ''),
                      createResult('bp3', '', 0.60, false, ''),
                      createResult('bp4', '', 0.58, false, ''),
                      createResult('bp5', '', 0.55, false, '')
                    ],
                    ours: [
                      createResult('bpo1', '', 0.95, true, ''),
                      createResult('bpo2', '', 0.92, true, ''),
                      createResult('bpo3', '', 0.89, true, ''),
                      createResult('bpo4', '', 0.87, true, ''),
                      createResult('bpo5', '', 0.86, true, '')
                    ]
                  }
                }
              }
            ]
          },
          {
            id: 'Steam',
            domain: "Steam",
            icon: Cpu,
            queries: [
            {
                id: 'q1',
                type: "Text-to-Image",
                text: "When a young street hustler, a retired bank robber and a terrifying psychopath find themselves entangled with some of the most frightening and deranged elements of the criminal underworld, the U.S. government and the entertainment industry, they must pull off a series of dangerous heists to survive in a ruthless city in which they can trust nobody, least of all each other. Grand Theft Auto V for PC offers players the option to explore the award-winning world of Los Santos and Blaine County in resolutions of up to 4k and beyond, as well as the chance to experience the game running at 60 frames per second. The game offers players a huge range of PC-specific customization options, including over 25 separate configurable settings for texture quality, shaders, tessellation, anti-aliasing and more, as well as support and extensive customization for mouse and keyboard controls. Additional options include a population density slider to control car and pedestrian traffic, as well as dual and triple monitor support, 3D compatibility, and plug-and-play controller support. Grand Theft Auto V for PC also includes Grand Theft Auto Online, with support for 30 players and two spectators. Grand Theft Auto Online for PC will include all existing gameplay upgrades and Rockstar-created content released since the launch of Grand Theft Auto Online, including Heists and Adversary modes. The PC version of Grand Theft Auto V and Grand Theft Auto Online features First Person Mode, giving players the chance to explore the incredibly detailed world of Los Santos and Blaine County in an entirely new way. Grand Theft Auto V for PC also brings the debut of the Rockstar Editor, a powerful suite of creative tools to quickly and easily capture, edit and share game footage from within Grand Theft Auto V and Grand Theft Auto Online. The Rockstar Editor’s Director Mode allows players the ability to stage their own scenes using prominent story characters, pedestrians, and even animals to bring their vision to life. Along with advanced camera manipulation and editing effects including fast and slow motion, and an array of camera filters, players can add their own music using songs from GTAV radio stations, or dynamically control the intensity of the game’s score. Completed videos can be uploaded directly from the Rockstar Editor to YouTube and the Rockstar Games Social Club for easy sharing. Soundtrack artists The Alchemist and Oh No return as hosts of the new radio station, The Lab FM. The station features new and exclusive music from the production duo based on and inspired by the game’s original soundtrack. Collaborating guest artists include Earl Sweatshirt, Freddie Gibbs, Little Dragon, Killer Mike, Sam Herring from Future Islands, and more. Players can also discover Los Santos and Blaine County while enjoying their own music through Self Radio, a new radio station that will host player-created custom soundtracks.",
                desc: "Game:The Truman Show",
                queryImage: "", 
                results: {
                  'omni': {
                    baseline: [
                      createResult('cb1', 'Game:Drug Dealer Sim: Street Hustle', 0.485, false, './cases/Steam/case1/omni/base/2850900.jpg'),
                      createResult('cb2', 'Game:Thugsters Battle Royale', 0.477, false, './cases/Steam/case1/omni/base/1118500.jpg'),
                      createResult('cb3', 'Game:Survival Revelation: End of Days', 0.477, false, './cases/Steam/case1/omni/base/2408700.jpg'),
                      createResult('cb4', 'Game: Clown Thug Cop Zombies', 0.458, false, './cases/Steam/case1/omni/base/1023320.jpg'),
                      createResult('cb5', 'Game:Rob the bank', 0.458, false, './cases/Steam/case1/omni/base/1872170.jpg')
                    ],
                    ours: [
                      createResult('cbo1', 'Game:Grand Theft Auto V Legacy', 0.556, true, './cases/Steam/case1/omni/ft/271590.jpg'),
                      createResult('cbo2', 'Game:Grand Theft Auto V Enhanced', 0.546, false, './cases/Steam/case1/omni/ft/3240220.jpg'),
                      createResult('cbo3', 'Game:Grand Theft Auto IV: The Complete Edition', 0.512, false, './cases/Steam/case1/omni/ft/12210.jpg'),
                      createResult('cbo4', 'Game:Filthy Animals | Heist Simulator', 0.509, false, './cases/Steam/case1/omni/ft/1195420.jpg'),
                      createResult('cbo5', 'Game:Grand Theft Auto: San Andreas – The Definitive Edition', 0.489, false, './cases/Steam/case1/omni/ft/1547000.jpg')
                    ]
                  },
                  'gme': {
                    baseline: [
                      createResult('cl1', 'Game:Grand Theft Auto V Enhanced', 0.604, false, './cases/Steam/case1/gme/base/3240220.jpg'),
                      createResult('cl2', 'Game:Grand Theft Auto V Legacy', 0.594, true, './cases/Steam/case1/gme/base/271590.jpg'),
                      createResult('cl3', 'Game:Grand Theft Auto IV: The Complete Edition', 0.492, false, './cases/Steam/case1/gme/base/12210.jpg'),
                      createResult('cl4', 'Game:Grand Theft Auto: San Andreas – The Definitive Edition', 0.476, false, './cases/Steam/case1/gme/base/1547000.jpg'),
                      createResult('cl5', 'Game:Poly Plaza', 0.464, false, './cases/Steam/case1/gme/base/2716030.jpg')
                    ],
                    ours: [
                      createResult('clo1', 'Game:Grand Theft Auto V Legacy', 0.644, true, './cases/Steam/case1/gme/ft/271590.jpg'),
                      createResult('clo2', 'Game:Grand Theft Auto V Enhanced', 0.596, false, './cases/Steam/case1/gme/ft/3240220.jpg'),
                      createResult('clo3', 'Game:Grand Theft Auto: San Andreas – The Definitive Edition', 0.512, false, './cases/Steam/case1/gme/ft/1547000.jpg'),
                      createResult('clo4', 'Game:Grand Theft Auto IV: The Complete Edition', 0.54, false, './cases/Steam/case1/gme/ft/12210.jpg'),
                      createResult('clo5', 'Game:V Gate', 0.485, false, './cases/Steam/case1/gme/ft/2542520.jpg')
                    ]
                  },
                  'bge': {
                    baseline: [
                      createResult('bp1', 'Game:Gangs of the street', 0.379, false, './cases/Steam/case1/bge/base/2738180.jpg'),
                      createResult('bp2', 'Game:Grand Theft Auto IV: The Complete Edition', 0.379, false, './cases/Steam/case1/bge/base/12210.jpg'),
                      createResult('bp3', 'Game:Gangsta Underground : The Poker', 0.362, false, './cases/Steam/case1/bge/base/689720.jpg'),
                      createResult('bp4', 'Game:Crime Boss: Rockay City', 0.362, false, './cases/Steam/case1/bge/base/2933080.jpg'),
                      createResult('bp5', 'Game:Grand Theft Auto V Legacy', 0.261, true, './cases/Steam/case1/bge/base/271590.jpg')
                    ],
                    ours: [
                      createResult('bpo1', 'Game:Grand Theft Auto IV: The Complete Edition', 0.511, false, './cases/Steam/case1/bge/ft/12210.jpg'),
                      createResult('bpo2', 'Game:Grand Theft Auto V Legacy', 0.474, true, './cases/Steam/case1/bge/ft/271590.jpg'),
                      createResult('bpo3', 'Game:Gangs of the street', 0.473, false, './cases/Steam/case1/bge/ft/2738180.jpg'),
                      createResult('bpo4', 'Game:Gangsta Underground : The Poker', 0.469, false, './cases/Steam/case1/bge/ft/689720.jpg'),
                      createResult('bpo5', 'Game:Crime Boss: Rockay City', 0.463, false, './cases/Steam/case1/bge/ft/2933080.jpg')
                    ]
                  }
                }
              },
              {
                id: 'q2',
                type: "Text-to-Image",
                text: "LAND, LOOT, SURVIVE! Play PUBG: BATTLEGROUNDS for free. Land on strategic locations, loot weapons and supplies, and survive to become the last team standing across various, diverse Battlegrounds. Squad up and join the Battlegrounds for the original Battle Royale experience that only PUBG: BATTLEGROUNDS can offer. This content download will also provide access to the BATTLEGROUNDS Test Server, which requires a separate download to play.  Optional in-game purchases available.",
                desc: "Game:PUBG: BATTLEGROUNDS",
                results: {
                  'omni': {
                    baseline: [
                      createResult('cb1', 'Game:Survival for Treasure', 0.474, false, './cases/Steam/case2/omni/base/2358920.jpg'),
                      createResult('cb2', 'Game:Battle for the last chicken', 0.456, false, './cases/Steam/case2/omni/base/753920.jpg'),
                      createResult('cb3', 'Game:For Sparta', 0.437, false, './cases/Steam/case2/omni/base/1867790.jpg'),
                      createResult('cb4', 'Game:LAST GARY 最后的盖里', 0.429, false, './cases/Steam/case2/omni/base/1877980.jpg'),
                      createResult('cb5', 'Game:Survive In Strange World', 0.410, false, './cases/Steam/case2/omni/base/2780760.jpg')
                    ],
                    ours: [
                      createResult('cbo1', 'Game:PUBG: BATTLEGROUNDS', 0.489, true, './cases/Steam/case2/omni/ft/578080.jpg'),
                      createResult('cbo2', 'Game:SurvivalZ Battlegrounds', 0.468, false, './cases/Steam/case2/omni/ft/873220.jpg'),
                      createResult('cbo3', 'Game:Battleground', 0.451, false, './cases/Steam/case2/omni/ft/1339790.jpg'),
                      createResult('cbo4', 'Game:War Battle Royale Battlegrounds', 0.434, false, './cases/Steam/case2/omni/ft/1148300.jpg'),
                      createResult('cbo5', 'Game:Battlerite Royale', 0.413, false, './cases/Steam/case2/omni/ft/879160.jpg')
                    ]
                  },
                  'gme': {
                    baseline: [
                      createResult('cl1', 'Game:PUBG: BATTLEGROUNDS', 0.569, true, './cases/Steam/case2/gme/base/578080.jpg'),
                      createResult('cl2', 'Game:BRoS - Battle Royale of Survival', 0.450, false, './cases/Steam/case2/gme/base/1428730.jpg'),
                      createResult('cl3', 'Game:Battlerite Royale', 0.449, false, './cases/Steam/case2/gme/base/879160.jpg'),
                      createResult('cl4', 'Game:Battleground', 0.447, false, './cases/Steam/case2/gme/base/1339790.jpg'),
                      createResult('cl5', 'Game:AMBER Battle Royale', 0.434, false, './cases/Steam/case2/gme/base/2189890.jpg')
                    ],
                    ours: [
                      createResult('clo1', 'Game:PUBG: BATTLEGROUNDS', 0.617, true, './cases/Steam/case2/gme/ft/578080.jpg'),
                      createResult('clo2', 'Game:Battleground', 0.480, false, './cases/Steam/case2/gme/ft/1339790.jpg'),
                      createResult('clo3', 'Game:TRANSFORMERS: BATTLEGROUNDS', 0.428, false, './cases/Steam/case2/gme/ft/1177000.jpg'),
                      createResult('clo4', 'Game:Bedroom Battlegrounds', 0.411, false, './cases/Steam/case2/gme/ft/2776110.jpg'),
                      createResult('clo5', 'Game:Legends\' Battlegrounds', 0.394, false, './cases/Steam/gme/omni/ft/3131780.jpg')
                    ]
                  },
                  'bge': {
                    baseline: [
                      createResult('bp1', 'Game:PUBG: BATTLEGROUNDS', 0.402, true, './cases/Steam/case2/bge/base/578080.jpg'),
                      createResult('bp2', 'Game:LandFall Survival', 0.382, false, './cases/Steam/case2/bge/base/2438270.jpg'),
                      createResult('bp3', 'Game:Virtual Battlegrounds', 0.368, false, './cases/Steam/case2/bge/base/823940.jpg'),
                      createResult('bp4', 'Game:THE LAST PLAYER:VR Battle Royale', 0.367, false, './cases/Steam/case2/bge/base/1015610.jpg'),
                      createResult('bp5', 'Game:Survival Games', 0.359, false, './cases/Steam/case2/bge/base/307150.jpg')
                    ],
                    ours: [
                      createResult('bpo1', 'Game:PUBG: BATTLEGROUNDS', 0.448, true, './cases/Steam/case2/bge/ft/578080.jpg'),
                      createResult('bpo2', 'Game:Survival Games', 0.387, false, './cases/Steam/case2/bge/ft/307150.jpg'),
                      createResult('bpo3', 'Game:Virtual Battlegrounds', 0.381, false, './cases/Steam/case2/bge/ft/823940.jpg'),
                      createResult('bpo4', 'Game:Gangsta Underground : The Poker', 0.369, false, './cases/Steam/case2/bge/ft/689720.jpg'),
                      createResult('bpo5', 'Game:Pixel Royale', 0.361, false, './cases/Steam/case2/bge/ft/931250.jpg')
                    ]
                  }
                }
              },
              {
                id: 'q3',
                type: "Text-to-Image",
                text: "Embark on the craziest journey of your life in It Takes Two, a genre-bending platform adventure created purely for co-op. Invite a friend to join for free with Friend’s Pass and work together across a huge variety of gleefully disruptive gameplay challenges. Play as the clashing couple Cody and May, two humans turned into dolls by a magic spell. Together, trapped in a fantastical world where the unpredictable hides around every corner, they are reluctantly challenged with saving their fractured relationship. Master unique and connected character abilities in every new level. Help each other across an abundance of unexpected obstacles and laugh-out-loud moments. Kick gangster squirrels’ furry tails, pilot a pair of underpants, DJ a buzzing night club, and bobsleigh through a magical snow globe. Embrace a heartfelt and hilarious story where narrative and gameplay weave into a uniquely metaphorical experience. It Takes Two is developed by the award-winning studio Hazelight, the industry leader of cooperative play. They’re about to take you on a wild and wondrous ride where only one thing is for certain: we’re better together. KEY FEATURES Pure co-op perfection — Invite a friend to join for free with Remote Play Together**, and experience a thrilling adventure built purely for two. Choose from couch or online co-op with split-screen play, and face ever-changing challenges where working together is the only way forward. Gleefully disruptive gameplay — From rampaging vacuum cleaners to suave love gurus, you never know what you’ll be up against next. Filled with genre-bending challenges and new character abilities to master in every level, experience a metaphorical merging of gameplay and narrative that pushes the boundaries of interactive storytelling. A universal tale of relationships — Discover a touching and heartfelt story of the challenges in getting along. Help Cody and May learn how to overcome their differences. Meet a diverse cast of strange and endearing characters. Join forces and go on an adventure you’ll treasure — together! ABOUT HAZELIGHT Hazelight is an award-winning independent game development studio based in Stockholm, Sweden. Founded in 2014 by Josef Fares (film director and creator of the award-winning game Brothers: A Tale of Two Sons), Hazelight is committed to pushing the creative boundaries of what is possible in games. In 2018, Hazelight released the BAFTA award-winning A Way Out — the first-ever co-op only, third-person action-adventure — as part of the EA Originals program. ABOUT EA ORIGINALS EA Originals helps shine a light on some of the most passionate, independent, and talented game studios across the globe. Discover innovative and unforgettable gaming experiences from highly creative game makers who love to enchant and inspire.",
                desc: "Game:It Takes Two",
                results: {
                  'omni': {
                    baseline: [
                      createResult('cb1', 'Game:Operation: Tango - Friend Pass', 0.428, false, './cases/Steam/case3/omni/base/1377150.jpg'),
                      createResult('cb2', 'Game:Two Hands Eggs', 0.419, false, './cases/Steam/case3/omni/base/2378490.jpg'),
                      createResult('cb3', 'Game:Farm Together 2', 0.412, false, './cases/Steam/case3/omni/base/2418520.jpg'),
                      createResult('cb4', 'Game:May\'s Journey', 0.404, false, './cases/Steam/case3/omni/base/2966790.jpg'),
                      createResult('cb5', 'Game:Stick \'Em Up 2: Paper Adventures', 0.399, false, './cases/Steam/case3/omni/base/282780.jpg')
                    ],
                    ours: [
                      createResult('cbo1', 'Game:It Takes Two Friend\'s Pass', 0.525, false, './cases/Steam/case3/omni/ft/2995920.jpg'),
                      createResult('cbo2', 'Game:It Takes Two', 0.517, true, './cases/Steam/case3/omni/base/1426210.jpg'),
                      createResult('cbo3', 'Game:Tasks for Two', 0.498, false, './cases/Steam/case3/omni/base/3393690.jpg'),
                      createResult('cbo4', 'Game:Five Nights: No Escape', 0.483, false, './cases/Steam/case3/omni/base/2374030.jpg'),
                      createResult('cbo5', 'Game:Operation: Tango - Friend Pass', 0.475, false, './cases/Steam/case3/omni/base/1377150.jpg')
                    ]
                  },
                  'gme': {
                    baseline: [
                      createResult('cl1', 'Game:It Takes Two Friend\'s Pass', 0.685, false, './cases/Steam/case3/gme/base/2995920.jpg'),
                      createResult('cl2', 'Game:It Takes Two', 0.684, true, './cases/Steam/case3/gme/base/1426210.jpg'),
                      createResult('cl3', 'Game:AK-xolotl: Together', 0.526, false, './cases/Steam/case3/gme/base/1479140.jpg'), 
                      createResult('cl4', 'Game:Let\'s Cook Together 2', 0.512, false, './cases/Steam/case3/gme/base/1637400.jpg'),
                      createResult('cl5', 'Game:An Odd Tale', 0.511, false, './cases/Steam/case3/gme/base/1651850.jpg')
                    ],
                    ours: [
                      createResult('clo1', 'Game:It Takes Two', 0.770, true, './cases/Steam/case3/gme/ft/1426210.jpg'),
                      createResult('clo2', 'Game:It Takes Two Friend\'s Pass', 0.635, false, './cases/Steam/case3/gme/ft/2995920.jpg'),
                      createResult('clo3', 'Game:Tasks for Two', 0.386, false, './cases/Steam/case3/gme/ft/3393690.jpg'),
                      createResult('clo4', 'Game:Tick Tock: A Tale for Two', 0.385, false, './cases/Steam/case3/gme/ft/790740.jpg'),
                      createResult('clo5', 'Game:TicTacToeTwo', 0.367, false, './cases/Steam/case3/gme/ft/3303950.jpg')
                    ]
                  },
                  'bge': {
                    baseline: [
                      createResult('bp1', 'Game:It Takes Two Friend\'s Pass', 0.353, false, './cases/Steam/case3/bge/base/2995920.jpg'),
                      createResult('bp2', 'Game:Claws of Furry', 0.334, false, './cases/Steam/case3/bge/base/656580.jpg'),
                      createResult('bp3', 'Game:AK-xolotl: Together', 0.332, false, './cases/Steam/case3/bge/base/1479140.jpg'),
                      createResult('bp4', 'Game:Only Out', 0.328, false, './cases/Steam/case3/bge/base/3349930.jpg'),
                      createResult('bp5', 'Game:It Takes Two', 0.325, true, './cases/Steam/case3/bge/base/1426210.jpg')
                    ],
                    ours: [
                      createResult('bpo1', 'Game:It Takes Two Friend\'s Pass', 0.358, false, './cases/Steam/case3/bge/ft/2995920.jpg'),
                      createResult('bpo2', 'Game:It Takes Two', 0.335, true, './cases/Steam/case3/bge/ft/1426210.jpg'),
                      createResult('bpo3', 'Game:Operation: Tango - Friend Pass', 0.326, false, './cases/Steam/case3/bge/ft/1377150.jpg'),
                      createResult('bpo4', 'Game:Twogether: Project Indigos Chapter 1', 0.319, false, './cases/Steam/case3/bge/ft/1977640.jpg'),
                      createResult('bpo5', 'Game:We Were Here Expeditions: The FriendShip', 0.320, false, './cases/Steam/case3/bge/ft/2296990.jpg')
                    ]
                  }
                }
              }
            ]
          }
        ];

        // --- COMPONENTS ---

        const ExpandableText = ({ text }) => {
          const [isExpanded, setIsExpanded] = useState(false);
          // 简单的判断：如果文字超过200个字符，就认为它是长文本
          const isLongText = text.length > 200;

          if (!isLongText) {
            return <h3 className="text-lg font-medium text-slate-900 leading-tight">{text}</h3>;
          }

          return (
            <div className="flex flex-col items-start">
              <h3 className={`text-lg font-medium text-slate-900 leading-tight transition-all duration-300 ${isExpanded ? '' : 'line-clamp-5'}`}>
                {text}
              </h3>
              <button 
                onClick={() => setIsExpanded(!isExpanded)}
                className="mt-2 text-xs font-bold text-indigo-600 hover:text-indigo-800 flex items-center gap-1 focus:outline-none"
              >
                {isExpanded ? (
                  <>收起 (Collapse) <ChevronUp size={14}/></>
                ) : (
                  <>展开 (Read More) <ChevronDown size={14}/></>
                )}
              </button>
            </div>
          );
        };

        const ScoreBar = ({ score, isRelevant }) => {
          const percentage = Math.round(score * 100);
          let colorClass = 'bg-slate-300';
          
          if (isRelevant) {
            colorClass = score > 0.8 ? 'bg-emerald-500' : 'bg-emerald-300';
          } else {
            colorClass = 'bg-rose-400';
          }

          return (
            <div className="mt-2 w-full">
              <div className="flex justify-between text-[10px] mb-1 font-mono text-slate-500">
                <span>Sim: {score.toFixed(3)}</span>
                <span>{percentage}%</span>
              </div>
              <div className="h-1.5 w-full bg-slate-100 rounded-full overflow-hidden">
                <div 
                  className={`h-full rounded-full ${colorClass} transition-all duration-700 ease-out`} 
                  style={{ width: `${percentage}%` }}
                ></div>
              </div>
            </div>
          );
        };

        const ResultCard = ({ item, rank }) => {
          const badgeColors = {
            1: 'bg-yellow-400 text-white shadow-yellow-200 border-yellow-300', // Gold
            2: 'bg-slate-400 text-white shadow-slate-200 border-slate-300',     // Silver
            3: 'bg-orange-400 text-white shadow-orange-200 border-orange-300',   // Bronze
            default: 'bg-white text-slate-500 shadow-slate-200 border-slate-200'
          };
          const badgeStyle = badgeColors[rank] || badgeColors.default;

          return (
            <div className="group relative bg-white p-2.5 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-all duration-300 flex flex-col animate-in fade-in zoom-in duration-500 mt-2">
              
              {/* 排名徽章 */}
              <div className={`absolute -top-3 -left-3 w-8 h-8 flex items-center justify-center rounded-full shadow-md z-20 font-extrabold text-sm border-2 ${badgeStyle}`}>
                {rank}
              </div>

              {/* 对/错图标：增加 z-index (z-30) 确保在最上层，加强背景和阴影以防被遮挡 */}
              {item.isRelevant ? (
                <div className="absolute top-2 right-2 text-emerald-600 bg-white border-2 border-emerald-100 rounded-full p-1 shadow-md z-30" title="Relevant">
                  <CheckCircle size={16} strokeWidth={3} />
                </div>
              ) : (
                <div className="absolute top-2 right-2 text-rose-500 bg-white border-2 border-rose-100 rounded-full p-1 shadow-md z-30" title="Irrelevant">
                  <XCircle size={16} strokeWidth={3} />
                </div>
              )}
              
              <div className="aspect-square overflow-hidden rounded-lg bg-slate-50 mb-2.5 relative z-0">
                 <div className="absolute inset-0 flex items-center justify-center text-slate-300 bg-slate-100 z-0">
                    <Search size={24} opacity={0.2} />
                 </div>
                <img 
                  src={item.src} 
                  alt={item.label} 
                  className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 relative z-10"
                  loading="lazy"
                  onError={(e) => {
                      e.target.onerror = null; 
                      e.target.parentNode.innerHTML = `<div class="w-full h-full flex flex-col items-center justify-center bg-slate-100 text-slate-400 text-xs p-2 text-center"><span class="mb-1">Image not found</span><span class="break-all text-[8px]">${item.src}</span></div>`;
                  }}
                />
              </div>
              
              <div className="mt-auto">
                <h4 className="text-[11px] font-semibold text-slate-700 truncate" title={item.label}>{item.label}</h4>
                <ScoreBar score={item.score} isRelevant={item.isRelevant} />
              </div>
            </div>
          );
        };

        const App = () => {
          const [activeCaseIdx, setActiveCaseIdx] = useState(0);
          const [activeQueryIdx, setActiveQueryIdx] = useState(0);
          const [activeModelId, setActiveModelId] = useState('omni');
          const [isAnimating, setIsAnimating] = useState(false);

          const activeCase = CASES[activeCaseIdx];
          const currentQueryIdx = activeQueryIdx >= activeCase.queries.length ? 0 : activeQueryIdx;
          const activeQuery = activeCase.queries[currentQueryIdx];
          
          const activeBaselineModel = BASELINE_MODELS.find(m => m.id === activeModelId);
          const currentResults = activeQuery.results[activeModelId] || { baseline: [], ours: [] };

          const handleCaseChange = (idx) => {
            if (idx === activeCaseIdx) return;
            setIsAnimating(true);
            setTimeout(() => {
              setActiveCaseIdx(idx);
              setActiveQueryIdx(0);
              setIsAnimating(false);
            }, 300);
          };

          const handleQueryNav = (direction) => {
            const len = activeCase.queries.length;
            let newIdx = direction === 'next' ? currentQueryIdx + 1 : currentQueryIdx - 1;
            if (newIdx < 0) newIdx = len - 1;
            if (newIdx >= len) newIdx = 0;
            setActiveQueryIdx(newIdx);
          };

          return (
            <div className="min-h-screen bg-slate-50 text-slate-800 font-sans pb-10 fade-in">
              
              {/* Header */}
              <header className="bg-white border-b border-slate-200 sticky top-0 z-40 shadow-sm">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
                  <div className="flex items-center gap-3">
                    <div className="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white shadow-indigo-200 shadow-md">
                      <Database size={18} />
                    </div>
                    <div>
                      <h1 className="text-lg font-bold tracking-tight text-slate-900">MultiModal Domain Adapt</h1>
                      <p className="text-[10px] text-slate-500 font-medium uppercase tracking-wider">Retrieval Case Studies</p> 
                    </div>
                  </div>
                  <nav className="hidden md:flex items-center gap-6 text-sm font-medium text-slate-600">
                    <div className="flex items-center gap-2 px-3 py-1 bg-slate-100 rounded-full text-xs">
                       <span className="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>
                       Live Demo
                    </div>
                  </nav>
                </div>
              </header>

              <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                
                {/* Title Section */}
                <div className="mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4">
                  <div>
                    <h2 className="text-2xl font-bold text-slate-900">Retrieval Case Studies</h2>
                    <p className="text-slate-500 mt-1">
                      Top-5 retrieval comparison between <span className="font-semibold text-slate-700">Base Model</span> and <span className="font-semibold text-indigo-600">Adapted Model</span>.
                    </p>
                  </div>
                  
                  {/* Domain Selector Tabs */}
                  <div className="flex bg-white p-1 rounded-xl border border-slate-200 shadow-sm overflow-x-auto no-scrollbar">
                    {CASES.map((c, idx) => {
                      const Icon = c.icon;
                      const isActive = activeCaseIdx === idx;
                      return (
                        <button
                          key={c.id}
                          onClick={() => handleCaseChange(idx)}
                          className={`
                            px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 whitespace-nowrap
                            ${isActive 
                              ? 'bg-indigo-50 text-indigo-700 shadow-sm ring-1 ring-indigo-200' 
                              : 'text-slate-500 hover:bg-slate-50 hover:text-slate-700'}
                          `}
                        >
                          <Icon size={16} />
                          <span className="hidden sm:inline">{c.domain}</span>
                        </button>
                      );
                    })}
                  </div>
                </div>

                {/* Main Content Area */}
                <div className={`transition-opacity duration-300 ${isAnimating ? 'opacity-50' : 'opacity-100'}`}>
                  
                  {/* Query Controller Card */}
                  <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-1 mb-8">
                    <div className="flex flex-col md:flex-row">
                      
                      {/* Query Content */}
                      <div className="flex-grow p-5 flex gap-5 items-start">
                         <div className="flex-shrink-0 mt-1">
                            <div className="w-10 h-10 rounded-full bg-indigo-50 flex items-center justify-center text-indigo-600 border border-indigo-100">
                              <Search size={20} />
                            </div>
                         </div>
                         <div className="w-full">
                            <div className="flex justify-between items-start mb-2">
                               <div className="flex items-center gap-2">
                                 <span className="text-xs font-bold text-indigo-600 uppercase tracking-wider">Current Query</span>
                                 <span className="px-2 py-0.5 rounded text-[10px] bg-slate-100 text-slate-500 border border-slate-200 font-mono">
                                   {activeQuery.type}
                                 </span>
                               </div>
                               <span className="text-xs text-slate-400 font-mono">
                                  ID: {activeQuery.id}
                               </span>
                            </div>
                            
                            <div className="flex flex-col sm:flex-row gap-4 items-start sm:items-center">
                              {activeQuery.queryImage && (
                                 <img src={activeQuery.queryImage} alt="Query" className="w-16 h-16 rounded-lg object-cover border border-slate-200 shadow-sm" />
                              )}
                              <div className="w-full">
                                {/* 使用新的 ExpandableText 组件 */}
                                <ExpandableText text={activeQuery.text} />
                                <p className="text-sm text-slate-500 mt-2 border-l-2 border-slate-200 pl-2">{activeQuery.desc}</p>
                              </div>
                            </div>
                         </div>
                      </div>

                      {/* Query Navigation Controls */}
                      <div className="border-t md:border-t-0 md:border-l border-slate-100 p-4 flex md:flex-col items-center justify-center gap-3 bg-slate-50/50 rounded-b-2xl md:rounded-r-2xl md:rounded-bl-none w-full md:w-auto min-w-[140px]">
                        <span className="text-xs font-medium text-slate-500 uppercase tracking-wider mb-0 md:mb-1">
                           Query {currentQueryIdx + 1} / {activeCase.queries.length}
                        </span>
                        <div className="flex items-center gap-2">
                          <button 
                            onClick={() => handleQueryNav('prev')}
                            className="p-2 rounded-lg bg-white border border-slate-200 text-slate-600 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-200 transition-colors shadow-sm"
                            title="Previous Query"
                          >
                            <ChevronLeft size={20} />
                          </button>
                          <button 
                            onClick={() => handleQueryNav('next')}
                            className="p-2 rounded-lg bg-white border border-slate-200 text-slate-600 hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-200 transition-colors shadow-sm"
                            title="Next Query"
                          >
                            <ChevronRight size={20} />
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>

                  {/* Main Model Selection Tabs */}
                  <div className="mb-6 bg-white p-2 rounded-xl border border-slate-200 shadow-sm flex flex-wrap items-center justify-between gap-4">
                     <div className="flex items-center gap-3 px-2">
                        <div className="p-1.5 bg-slate-100 text-slate-600 rounded-md">
                           <Cpu size={18} />
                        </div>
                        <div>
                           <span className="text-xs font-bold text-slate-400 uppercase tracking-wide block">Base Model Selection</span>
                           <span className="text-sm font-medium text-slate-800">Choose backbone to compare</span>
                        </div>
                     </div>
                     <div className="flex bg-slate-100 p-1 rounded-lg">
                        {BASELINE_MODELS.map(m => (
                          <button
                            key={m.id}
                            onClick={() => setActiveModelId(m.id)}
                            className={`
                              px-4 py-2 rounded-md text-sm font-medium transition-all
                              ${activeModelId === m.id 
                                ? 'bg-white text-indigo-600 shadow-sm font-bold ring-1 ring-black/5' 
                                : 'text-slate-500 hover:text-slate-700 hover:bg-slate-200/50'}
                            `}
                          >
                            {m.name}
                          </button>
                        ))}
                     </div>
                  </div>

                  {/* Vertical Layout Container */}
                  <div className="flex flex-col gap-8">
                    
                    {/* Top Row: Original Base Model */}
                    <div className="flex flex-col animate-in slide-in-from-top-4 duration-500">
                       <div className="bg-white border border-slate-200 border-b-0 rounded-t-xl p-4 flex items-center justify-between">
                          <div className="flex items-center gap-2">
                            <div className="p-1.5 bg-slate-100 text-slate-600 rounded-md">
                              <Layers size={16} />
                            </div>
                            <div>
                              <h3 className="text-sm font-bold text-slate-800">Original {activeBaselineModel.name} (Top-5)</h3>
                              <p className="text-[10px] text-slate-500">Pre-trained weights (Zero-shot)</p>
                            </div>
                          </div>
                          <div className="px-2 py-1 bg-slate-100 rounded text-xs font-mono text-slate-500">
                             Baseline
                          </div>
                       </div>

                       <div className="bg-slate-50 border border-slate-200 rounded-b-xl p-5">
                         {/* Updated Grid for 5 items */}
                         <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                           {currentResults.baseline.map((item, i) => (
                             <ResultCard key={item.id} item={item} rank={i + 1} />
                           ))}
                           {currentResults.baseline.length === 0 && (
                              <div className="col-span-full text-center py-12 text-slate-400">
                                 No baseline data available.
                              </div>
                           )}
                         </div>
                       </div>
                    </div>

                    {/* Vertical Flow Arrow */}
                    <div className="flex justify-center -my-4 z-10">
                       <div className="bg-white border border-slate-200 p-2 rounded-full text-indigo-400 shadow-sm">
                         <ArrowDown size={24} />
                       </div>
                    </div>

                    {/* Bottom Row: Fine-tuned Model (Ours) */}
                    <div className="flex flex-col animate-in slide-in-from-bottom-4 duration-500">
                       <div className="bg-indigo-600 border border-indigo-600 border-b-0 rounded-t-xl p-4 flex items-center justify-between text-white">
                          <div className="flex items-center gap-2">
                            <div className="p-1.5 bg-white/20 text-white rounded-md backdrop-blur-sm">
                              <Aperture size={16} />
                            </div>
                            <div>
                              <h3 className="text-sm font-bold">Fine-tuned {activeBaselineModel.name} (Top-5)</h3>
                              <p className="text-[10px] text-indigo-100">Adapted via our method</p>
                            </div>
                          </div>
                          <div className="px-3 py-1 bg-emerald-400/20 border border-emerald-400/30 text-emerald-50 rounded-full text-xs font-bold backdrop-blur-sm flex items-center gap-1">
                             <CheckCircle size={12} />
                             Ours (Improved)
                          </div>
                       </div>

                       <div className="bg-indigo-50/50 border border-indigo-100 border-t-0 rounded-b-xl p-5 relative overflow-hidden">
                         <div className="absolute top-0 right-0 w-32 h-32 bg-gradient-to-bl from-indigo-100/50 to-transparent rounded-bl-full pointer-events-none"></div>
                         
                         {/* Updated Grid for 5 items */}
                         <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 relative z-10">
                           {currentResults.ours.map((item, i) => (
                             <ResultCard key={item.id} item={item} rank={i + 1} />
                           ))}
                           {currentResults.ours.length === 0 && (
                              <div className="col-span-full text-center py-12 text-indigo-300">
                                No adapted data available.
                              </div>
                           )}
                         </div>
                       </div>
                    </div>

                  </div>

                </div>
              </main>
            </div>
          );
        };

        // --- 启动应用 ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>